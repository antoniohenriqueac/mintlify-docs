---
title: 'Conceitos - Notas'
description: 'Entenda como funcionam as notas de consulta no ConnectVets Notes'
---

## O que s√£o Notas?

As **Notas** s√£o o elemento central da plataforma ConnectVets Notes. Elas representam transcri√ß√µes estruturadas de consultas veterin√°rias, convertendo √°udio em texto organizado e pesquis√°vel.

## Ciclo de Vida de uma Nota

```mermaid
graph LR
    A[√Åudio Enviado] --> B[pending]
    B --> C[processing] 
    C --> D[completed]
    C --> E[failed]
    D --> F[Se√ß√µes Criadas]
```

### Estados da Transcri√ß√£o

<CardGroup cols={2}>
  <Card title="pending" icon="clock">
    **Aguardando processamento**
    - √Åudio foi recebido e validado
    - Aguardando na fila de processamento
  </Card>
  
  <Card title="processing" icon="gear">
    **Em processamento**
    - IA est√° transcrevendo o √°udio
    - Pode levar alguns minutos
  </Card>
  
  <Card title="completed" icon="check">
    **Conclu√≠do**
    - Transcri√ß√£o finalizada com sucesso
    - Se√ß√µes estruturadas dispon√≠veis
  </Card>
  
  <Card title="failed" icon="x">
    **Falhou**
    - Erro no processamento
    - Verifique qualidade do √°udio
  </Card>
</CardGroup>

## Estrutura de uma Nota

### Dados B√°sicos

```json
{
  "id": "6a4fe1de-52c4-4b2b-a30f-4b3fa9d7d8b3",
  "name": "Rex",
  "gender": "male",
  "external_id": "CLIENTE_123",
  "transcription_status": "completed",
  "created_at": "2024-02-14T18:25:43Z"
}
```

| Campo | Tipo | Descri√ß√£o |
|-------|------|-----------|
| `id` | UUID | Identificador √∫nico da nota |
| `name` | String | Nome do paciente |
| `gender` | Enum | Sexo: `male`, `female`, `unidentified` |
| `external_id` | String | ID do seu sistema (opcional) |
| `transcription_status` | Enum | Status do processamento |

### Arquivos de √Åudio

```json
{
  "audio_name": "rex_consulta_20240214.wav",
  "audio_url": "https://cdn.connectvets.com.br/audio/6a4fe1de.wav"
}
```

- **audio_name**: Nome original do arquivo
- **audio_url**: URL para download do √°udio

### Transcri√ß√£o

```json
{
  "transcription_url": "https://cdn.connectvets.com.br/transcripts/6a4fe1de.txt"
}
```

<Info>
  A `transcription_url` s√≥ fica dispon√≠vel quando o status √© `completed`
</Info>

### Metadados Personalizados

```json
{
  "metadata": [
    {"key": "procedimento", "value": "vacina"},
    {"key": "peso", "value": "12.5kg"},
    {"key": "idade", "value": "3 anos"}
  ]
}
```

Use metadados para armazenar informa√ß√µes adicionais espec√≠ficas do seu sistema.

## Se√ß√µes de Nota

Quando uma nota √© processada com sucesso, ela √© automaticamente dividida em **se√ß√µes estruturadas**:

### Se√ß√µes Padr√£o

<CardGroup cols={2}>
  <Card title="Anamnese" icon="clipboard-list">
    **Hist√≥rico do paciente**
    - Sintomas relatados
    - Hist√≥rico m√©dico
    - Comportamento
  </Card>
  
  <Card title="Exame F√≠sico" icon="stethoscope">
    **Avalia√ß√£o f√≠sica**
    - Peso, temperatura
    - Sinais vitais
    - Observa√ß√µes f√≠sicas
  </Card>
  
  <Card title="Diagn√≥stico" icon="diagnoses">
    **Conclus√µes m√©dicas**
    - Diagn√≥stico principal
    - Diagn√≥sticos diferenciais
  </Card>
  
  <Card title="Tratamento" icon="pills">
    **Plano terap√™utico**
    - Medica√ß√µes prescritas
    - Dosagens
    - Instru√ß√µes
  </Card>
</CardGroup>

### Estrutura das Se√ß√µes

```json
{
  "note_sections": [
    {
      "id": "9b7d8b6a-12e3-45fa-9c1c-7e12f5c4a1b2",
      "title": "Anamnese",
      "label": "anamnesis",
      "content": "Paciente apresenta hist√≥rico de...",
      "order": "1"
    }
  ]
}
```

| Campo | Descri√ß√£o |
|-------|-----------|
| `title` | Nome exibido da se√ß√£o |
| `label` | Identificador interno da se√ß√£o |
| `content` | Conte√∫do transcrito |
| `order` | Ordem de exibi√ß√£o |

## Requisitos de √Åudio

### Formato Recomendado

<Warning>
  Para melhores resultados, use **WAV, 16kHz, mono, 16-bit**
</Warning>

**Especifica√ß√µes t√©cnicas:**
- **Formato**: WAV (recomendado) ou FLAC
- **Taxa de amostragem**: 16.000 Hz
- **Canais**: Mono (1 canal)
- **Bit depth**: 16-bit
- **Codifica√ß√£o**: PCM linear

### Formatos Aceitos

| Formato | Suporte | Observa√ß√µes |
|---------|---------|-------------|
| WAV | ‚úÖ Ideal | Melhor qualidade |
| FLAC | ‚úÖ Bom | Compress√£o sem perda |
| MP3 | ‚ö†Ô∏è Aceito | Qualidade reduzida |
| M4A | ‚ö†Ô∏è Aceito | Qualidade reduzida |

### Qualidade do √Åudio

**Dicas para melhor transcri√ß√£o:**

- **Ambiente silencioso**: Minimize ru√≠do de fundo
- **Dist√¢ncia adequada**: 30-50cm do microfone
- **Fala clara**: Evite falar muito r√°pido
- **Volume consistente**: N√£o muito baixo ou alto

## Filtros e Busca

### Filtros Dispon√≠veis

Use estes par√¢metros para filtrar notas:

```http
GET /notes?transcription_status=completed&name=rex&from=2024-01-01
```

| Par√¢metro | Tipo | Exemplo | Descri√ß√£o |
|-----------|------|---------|-----------|
| `external_id` | String | `CLIENTE_123` | ID do seu sistema |
| `transcription_status` | Enum | `completed` | Status da transcri√ß√£o |
| `valid` | Boolean | `true` | Notas v√°lidas/inv√°lidas |
| `name` | String | `rex` | Nome do paciente (busca parcial) |
| `from` | Date | `2024-01-01` | Data inicial |
| `to` | Date | `2024-01-31` | Data final |

### Busca Textual

Para buscar no conte√∫do das se√ß√µes, use a API de busca:

```http
GET /notes/search?q=vacina&section=treatment
```

## Webhooks para Notas

Configure webhooks para receber notifica√ß√µes autom√°ticas:

### Eventos Dispon√≠veis

- `note.created`: Nova nota criada
- `note.processing`: Processamento iniciado
- `note.completed`: Transcri√ß√£o conclu√≠da
- `note.failed`: Processamento falhou

### Payload do Webhook

```json
{
  "event": "note.completed",
  "data": {
    "id": "6a4fe1de-52c4-4b2b-a30f-4b3fa9d7d8b3",
    "name": "Rex",
    "transcription_status": "completed",
    "external_id": "CLIENTE_123"
  },
  "timestamp": "2024-02-14T18:30:23Z"
}
```

## Casos de Uso Comuns

### 1. Integra√ß√£o com Sistema Veterin√°rio

```javascript
// Enviar √°udio ap√≥s consulta
async function processConsultation(patientId, audioFile) {
  const formData = new FormData();
  formData.append('audio', audioFile);
  formData.append('name', patient.name);
  formData.append('external_id', patientId);
  
  const response = await fetch('/notes', {
    method: 'POST',
    headers: { 'X-API-KEY': apiKey },
    body: formData
  });
  
  return response.json();
}
```

### 2. Buscar Notas por Per√≠odo

```javascript
// Relat√≥rio mensal
async function getMonthlyReport(year, month) {
  const from = `${year}-${month.toString().padStart(2, '0')}-01`;
  const to = `${year}-${month.toString().padStart(2, '0')}-31`;
  
  const response = await fetch(
    `/notes?from=${from}&to=${to}&transcription_status=completed&per_page=100`,
    { headers: { 'X-API-KEY': apiKey } }
  );
  
  return response.json();
}
```

### 3. Sincronizar com Sistema Local

```javascript
// Verificar notas processadas
async function syncProcessedNotes() {
  const pendingNotes = await getLocalPendingNotes();
  
  for (const note of pendingNotes) {
    const response = await fetch(`/notes/${note.id}`, {
      headers: { 'X-API-KEY': apiKey }
    });
    
    const updated = await response.json();
    
    if (updated.transcription_status === 'completed') {
      await updateLocalNote(note.id, updated);
    }
  }
}
```

## Melhores Pr√°ticas

### üìÅ Organiza√ß√£o

- Use `external_id` para vincular ao seu sistema
- Padronize nomenclatura de pacientes
- Configure metadados √∫teis para filtros

### ‚ö° Performance

- Monitore o status via webhooks
- Use pagina√ß√£o para listas grandes  
- Cache resultados quando poss√≠vel

### üîí Seguran√ßa

- Nunca exponha URLs de √°udio publicamente
- Use HTTPS sempre
- Rotacione API keys periodicamente

### üìä Monitoramento

- Acompanhe taxa de sucesso das transcri√ß√µes
- Monitore tempo de processamento
- Configure alertas para falhas

## Pr√≥ximos Passos

<CardGroup cols={2}>
  <Card
    title="Criar sua primeira nota"
    icon="plus"
    href="/api-reference/notes/create"
  >
    Veja como enviar √°udio para transcri√ß√£o
  </Card>
  <Card
    title="Configurar webhooks"
    icon="webhook"
    href="/concepts/webhooks"
  >
    Receba notifica√ß√µes autom√°ticas
  </Card>
  <Card
    title="Filtros avan√ßados"
    icon="filter"
    href="/examples/advanced-filtering"
  >
    Aprenda a buscar notas espec√≠ficas
  </Card>
  <Card
    title="Tenants/Cl√≠nicas"
    icon="building"
    href="/concepts/tenants"
  >
    Entenda o sistema multi-cl√≠nica
  </Card>
</CardGroup> 