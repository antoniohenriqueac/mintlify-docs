---
title: "API Reference - Vis√£o Geral"
description: "Documenta√ß√£o completa da API ConnectVets Notes"
---

## Introdu√ß√£o

A API ConnectVets Notes √© uma API RESTful que permite integrar funcionalidades de transcri√ß√£o e an√°lise de consultas veterin√°rias em sua aplica√ß√£o. Esta documenta√ß√£o fornece informa√ß√µes detalhadas sobre todos os endpoints dispon√≠veis.

## URL Base

```
https://api.connectvets.com.br/v1
```

## Autentica√ß√£o

Todas as requisi√ß√µes devem incluir o header `X-API-KEY` com sua chave de API:

```bash
X-API-KEY: cvn_live_your_api_key_here
```

<Card title="Obter API Key" icon="key" href="/concepts/api-keys">
  Aprenda como criar e gerenciar suas chaves de API
</Card>

## Formato de Resposta

Todas as respostas seguem um formato padronizado:

```json
{
  "success": true,
  "data": {
    // Dados da resposta
  },
  "meta": {
    "pagination": {
      "page": 1,
      "per_page": 20,
      "total": 100,
      "total_pages": 5
    }
  }
}
```

### C√≥digos de Status HTTP

| C√≥digo | Descri√ß√£o |
|--------|-----------|
| 200 | Requisi√ß√£o bem-sucedida |
| 201 | Recurso criado com sucesso |
| 400 | Requisi√ß√£o inv√°lida |
| 401 | N√£o autorizado (API key inv√°lida) |
| 403 | Proibido (sem permiss√£o) |
| 404 | Recurso n√£o encontrado |
| 429 | Muitas requisi√ß√µes (rate limit) |
| 500 | Erro interno do servidor |

## Estrutura de Erros

```json
{
  "success": false,
  "error": {
    "code": "VALIDATION_ERROR",
    "message": "Dados inv√°lidos fornecidos",
    "details": [
      {
        "field": "name",
        "message": "Nome √© obrigat√≥rio"
      }
    ]
  }
}
```

## Rate Limits

| Tipo de API Key | Requests/min | Requests/hora |
|-----------------|--------------|---------------|
| Read | 60 | 1.000 |
| Write | 100 | 2.000 |
| Admin | 200 | 5.000 |

### Headers de Rate Limit

```bash
X-RateLimit-Limit: 100
X-RateLimit-Remaining: 95
X-RateLimit-Reset: 1640995200
```

## Endpoints Principais

### üìù Notas

<CardGroup cols={2}>
  <Card title="Criar Nota" icon="plus" href="/api-reference/notes/create">
    Upload de √°udio para criar nova nota
  </Card>
  <Card title="Buscar Notas" icon="search" href="/api-reference/notes/list">
    Listar e filtrar notas existentes
  </Card>
  <Card title="Obter Nota" icon="file-text" href="/api-reference/notes/get">
    Detalhes de uma nota espec√≠fica
  </Card>
  <Card title="Atualizar Nota" icon="edit" href="/api-reference/notes/update">
    Modificar metadados de uma nota
  </Card>
</CardGroup>

### üîë API Keys

<CardGroup cols={2}>
  <Card title="Listar API Keys" icon="list" href="/api-reference/api-keys/list">
    Ver todas as chaves de API
  </Card>
  <Card title="Criar API Key" icon="plus" href="/api-reference/api-keys/create">
    Gerar nova chave de API
  </Card>
  <Card title="Revogar API Key" icon="trash" href="/api-reference/api-keys/delete">
    Desativar uma chave de API
  </Card>
</CardGroup>

### üîó Webhooks

<CardGroup cols={2}>
  <Card title="Listar Webhooks" icon="list" href="/api-reference/webhooks/list">
    Ver todos os webhooks configurados
  </Card>
  <Card title="Criar Webhook" icon="plus" href="/api-reference/webhooks/create">
    Configurar nova URL de webhook
  </Card>
  <Card title="Atualizar Webhook" icon="edit" href="/api-reference/webhooks/update">
    Modificar configura√ß√µes de webhook
  </Card>
  <Card title="Deletar Webhook" icon="trash" href="/api-reference/webhooks/delete">
    Remover webhook configurado
  </Card>
</CardGroup>

## Pagina√ß√£o

A API usa pagina√ß√£o baseada em cursor para grandes conjuntos de dados:

```json
{
  "data": [...],
  "meta": {
    "pagination": {
      "page": 1,
      "per_page": 20,
      "total": 100,
      "total_pages": 5,
      "has_next": true,
      "has_prev": false
    }
  }
}
```

### Par√¢metros de Pagina√ß√£o

| Par√¢metro | Tipo | Padr√£o | Descri√ß√£o |
|-----------|------|---------|-----------|
| `page` | integer | 1 | P√°gina atual |
| `per_page` | integer | 20 | Itens por p√°gina (m√°x: 100) |
| `sort` | string | `created_at` | Campo para ordena√ß√£o |
| `order` | string | `desc` | Dire√ß√£o da ordena√ß√£o (asc/desc) |

## Filtros

### Filtros Temporais

```bash
# Buscar notas criadas hoje
GET /notes?created_at[gte]=2024-01-15T00:00:00Z

# Buscar notas do √∫ltimo m√™s
GET /notes?created_at[gte]=2024-01-01T00:00:00Z&created_at[lte]=2024-01-31T23:59:59Z
```

### Filtros por Status

```bash
# Apenas notas conclu√≠das
GET /notes?transcription_status=completed

# Notas em processamento
GET /notes?transcription_status=processing
```

### Filtros por Metadados

```bash
# Buscar por esp√©cie
GET /notes?metadata[species]=Canino

# Buscar por veterin√°rio
GET /notes?metadata[doctor]=Dr. Silva
```

## Webhooks

### Eventos Dispon√≠veis

| Evento | Descri√ß√£o |
|---------|-----------|
| `note.created` | Nota criada com sucesso |
| `note.processing` | Processamento iniciado |
| `note.completed` | Transcri√ß√£o conclu√≠da |
| `note.failed` | Erro no processamento |
| `note.updated` | Nota atualizada manualmente |

### Payload do Webhook

```json
{
  "type": "note.completed",
  "data": {
    "note": {
      "id": "note_abc123",
      "name": "Rex",
      "transcription_status": "completed",
      "created_at": "2024-01-15T10:30:00Z",
      "updated_at": "2024-01-15T10:35:00Z",
      "note_sections": [
        {
          "id": "section_123",
          "title": "Anamnese",
          "content": "Paciente apresenta...",
          "order": 1
        }
      ]
    }
  },
  "timestamp": "2024-01-15T10:35:00Z"
}
```

## SDKs e Bibliotecas

### JavaScript/Node.js

```bash
npm install connectvets-sdk
```

```javascript
import { ConnectVets } from 'connectvets-sdk';

const client = new ConnectVets('your_api_key');

// Upload de √°udio
const note = await client.notes.create({
  audio: audioFile,
  name: 'Rex',
  gender: 'male'
});
```

### Python

```bash
pip install connectvets-python
```

```python
from connectvets import ConnectVets

client = ConnectVets('your_api_key')

# Upload de √°udio
note = client.notes.create(
    audio=open('audio.wav', 'rb'),
    name='Rex',
    gender='male'
)
```

### cURL

```bash
curl -X POST "https://api.connectvets.com.br/v1/notes" \
  -H "X-API-KEY: your_api_key" \
  -F "audio=@consulta.wav" \
  -F "name=Rex" \
  -F "gender=male"
```

## Ambiente de Sandbox

Para testes e desenvolvimento, use o ambiente de sandbox:

```
https://sandbox-api.connectvets.com.br/v1
```

- Use API keys com prefixo `cvn_test_`
- Dados fict√≠cios
- Rate limits relaxados
- Processamento acelerado para testes

## Suporte

<CardGroup cols={2}>
  <Card title="Discord" icon="discord" href="https://discord.gg/uN4NxUGk">
    Comunidade de desenvolvedores
  </Card>
  <Card title="WhatsApp" icon="whatsapp" href="https://wa.me/5531888835141">
    Suporte t√©cnico direto
  </Card>
  <Card title="Email" icon="envelope" href="mailto:dev@connectvets.com.br">
    Suporte por email
  </Card>
  <Card title="GitHub" icon="github" href="https://github.com/connectvets/notes-api">
    Exemplos e issues
  </Card>
</CardGroup>

## Changelog

### v1.2.0 (2024-02-01)
- ‚úÖ Novos filtros por metadados
- ‚úÖ Webhook `note.updated`
- ‚úÖ Suporte a arquivos M4A
- üîß Melhorias na performance

### v1.1.0 (2024-01-15)
- ‚úÖ Pagina√ß√£o baseada em cursor
- ‚úÖ Filtros temporais avan√ßados
- ‚úÖ Rate limits por tipo de API key
- üîß Corre√ß√µes de bugs menores

### v1.0.0 (2024-01-01)
- üéâ Lan√ßamento inicial
- ‚úÖ Upload de √°udio
- ‚úÖ Transcri√ß√£o autom√°tica
- ‚úÖ Webhooks b√°sicos
- ‚úÖ API keys

---

<Tip>
**Precisa de ajuda?** Consulte nossos [exemplos pr√°ticos](/examples/basic-integration) ou entre em contato no [Discord](https://discord.gg/uN4NxUGk).
</Tip> 