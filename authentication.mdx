---
title: "Autentica√ß√£o"
description: "Como autenticar suas requisi√ß√µes com API Keys do ConnectVets Notes"
icon: "key"
---

# Autentica√ß√£o com API Keys üîê

O ConnectVets Notes usa **API Keys** para autenticar todas as requisi√ß√µes. √â simples, seguro e permite controle granular de acesso.

<Info>
**Todas as requisi√ß√µes** para a API ConnectVets Notes devem incluir uma API Key v√°lida no header `X-API-KEY`.
</Info>

## Como funciona

<Steps>
  <Step title="Obtenha uma API Key">
    Crie uma API Key no dashboard do ConnectVets Notes
  </Step>
  <Step title="Inclua no header">
    Adicione o header `X-API-KEY` em todas as requisi√ß√µes
  </Step>
  <Step title="Fa√ßa a requisi√ß√£o">
    Envie sua requisi√ß√£o - a autentica√ß√£o √© autom√°tica
  </Step>
</Steps>

## Criando uma API Key

### Pelo Dashboard Web

<Steps>
  <Step title="Acesse o Dashboard">
    Fa√ßa login em [notes.connectvets.com.br](https://notes.connectvets.com.br)
  </Step>
  <Step title="Navegue para API Keys">
    V√° para **Configura√ß√µes** ‚Üí **API Keys** no menu lateral
  </Step>
  <Step title="Crie uma nova chave">
    Clique em **"Nova API Key"** e preencha:
    - **Nome**: Identifique o uso (ex: "Integra√ß√£o Sistema X")
    - **Tipo**: Selecione as permiss√µes necess√°rias
    - **Expira√ß√£o**: Defina quando expira (opcional)
  </Step>
  <Step title="Copie a chave">
    ‚ö†Ô∏è **Importante**: Copie a chave imediatamente - ela s√≥ aparece uma vez!
  </Step>
</Steps>

### Via API (para automa√ß√£o)

<CodeGroup>
```bash cURL
curl -X POST "https://api.connectvets.com.br/v1/api-keys" \
  -H "X-API-KEY: your_admin_key" \
  -H "Content-Type: application/json" \
  -d '{
    "name": "Integra√ß√£o Sistema X",
    "permissions": ["notes:read", "notes:write"],
    "expires_at": "2024-12-31T23:59:59Z"
  }'
```

```javascript JavaScript
const response = await fetch('https://api.connectvets.com.br/v1/api-keys', {
  method: 'POST',
  headers: {
    'X-API-KEY': 'your_admin_key',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    name: 'Integra√ß√£o Sistema X',
    permissions: ['notes:read', 'notes:write'],
    expires_at: '2024-12-31T23:59:59Z'
  })
});

const apiKey = await response.json();
console.log('Nova API Key:', apiKey.data.key);
```

```python Python
import requests

data = {
    'name': 'Integra√ß√£o Sistema X',
    'permissions': ['notes:read', 'notes:write'],
    'expires_at': '2024-12-31T23:59:59Z'
}

response = requests.post(
    'https://api.connectvets.com.br/v1/api-keys',
    headers={'X-API-KEY': 'your_admin_key'},
    json=data
)

api_key = response.json()
print(f"Nova API Key: {api_key['data']['key']}")
```
</CodeGroup>

## Usando API Keys

Inclua sua API Key no header `X-API-KEY` de todas as requisi√ß√µes:

<CodeGroup>
```bash cURL
curl -X GET "https://api.connectvets.com.br/v1/notes" \
  -H "X-API-KEY: cvn_1234567890abcdef" \
  -H "Content-Type: application/json"
```

```javascript JavaScript
// Fetch API
const response = await fetch('https://api.connectvets.com.br/v1/notes', {
  headers: {
    'X-API-KEY': 'cvn_1234567890abcdef',
    'Content-Type': 'application/json'
  }
});

// Axios
import axios from 'axios';

const api = axios.create({
  baseURL: 'https://api.connectvets.com.br/v1',
  headers: {
    'X-API-KEY': 'cvn_1234567890abcdef'
  }
});
```

```python Python
import requests

# Session com header padr√£o
session = requests.Session()
session.headers.update({
    'X-API-KEY': 'cvn_1234567890abcdef',
    'Content-Type': 'application/json'
})

response = session.get('https://api.connectvets.com.br/v1/notes')
```

```go Go
package main

import (
    "net/http"
)

func main() {
    client := &http.Client{}
    req, _ := http.NewRequest("GET", "https://api.connectvets.com.br/v1/notes", nil)
    
    req.Header.Add("X-API-KEY", "cvn_1234567890abcdef")
    req.Header.Add("Content-Type", "application/json")
    
    resp, _ := client.Do(req)
    defer resp.Body.Close()
}
```
</CodeGroup>

## Tipos de API Keys

<CardGroup cols={3}>
  <Card title="Administrador" icon="crown" color="#f59e0b">
    **Permiss√µes**: Todas
    - Criar/deletar API Keys
    - Gerenciar usu√°rios
    - Acesso completo √†s notas
  </Card>
  <Card title="Editor" icon="pencil" color="#3b82f6">
    **Permiss√µes**: Leitura e escrita
    - Criar notas
    - Atualizar notas existentes
    - Visualizar todas as notas
  </Card>
  <Card title="Visualizador" icon="eye" color="#10b981">
    **Permiss√µes**: Somente leitura
    - Visualizar notas
    - Buscar e filtrar
    - Sem permiss√µes de escrita
  </Card>
</CardGroup>

## Anatomia de uma API Key

As API Keys do ConnectVets seguem um formato espec√≠fico para facilitar identifica√ß√£o:

<Frame>
```
cvn_1234567890abcdef1234567890abcdef
‚îÇ   ‚îÇ                                
‚îÇ   ‚îî‚îÄ‚îÄ Chave secreta (32 caracteres hex)
‚îî‚îÄ‚îÄ Prefixo identificador ConnectVets Notes
```
</Frame>

## Boas Pr√°ticas de Seguran√ßa

### Armazenamento Seguro

<Warning>
**Nunca commite** API Keys em reposit√≥rios p√∫blicos. Use vari√°veis de ambiente ou sistemas de gerenciamento de secrets.
</Warning>

<CodeGroup>
```bash Vari√°veis de Ambiente
# .env
CONNECTVETS_API_KEY=cvn_1234567890abcdef

# Uso
curl -H "X-API-KEY: $CONNECTVETS_API_KEY" https://api.connectvets.com.br/v1/notes
```

```javascript Node.js
// Usando dotenv
require('dotenv').config();

const apiKey = process.env.CONNECTVETS_API_KEY;

const response = await fetch('https://api.connectvets.com.br/v1/notes', {
  headers: {
    'X-API-KEY': apiKey
  }
});
```

```python Python
import os
from dotenv import load_dotenv

load_dotenv()

api_key = os.getenv('CONNECTVETS_API_KEY')

headers = {'X-API-KEY': api_key}
response = requests.get('https://api.connectvets.com.br/v1/notes', headers=headers)
```
</CodeGroup>

### Rota√ß√£o de Chaves

<Accordion title="Rota√ß√£o Autom√°tica">
  - Configure expira√ß√£o autom√°tica das API Keys
  - Implemente sistema de rota√ß√£o program√°tica
  - Monitore chaves pr√≥ximas do vencimento
  - Use webhooks para notifica√ß√µes de expira√ß√£o
</Accordion>

<Accordion title="Rota√ß√£o Manual">
  - Atualize chaves regularmente (recomendado: a cada 90 dias)
  - Mantenha m√∫ltiplas chaves durante transi√ß√µes
  - Teste nova chave antes de revogar a anterior
  - Documente cronograma de rota√ß√£o
</Accordion>

### Monitoramento

<Accordion title="Logs de Auditoria">
  - Monitore uso de API Keys no dashboard
  - Configure alertas para uso an√¥malo
  - Revise acessos regularmente
  - Implemente an√°lise de comportamento
</Accordion>

<Accordion title="Rate Limiting">
  - Respeite limites de taxa por API Key
  - Implemente backoff exponencial
  - Use circuit breakers para falhas
  - Monitore m√©tricas de uso
</Accordion>

## Troubleshooting

### Erros Comuns

<Accordion title="401 Unauthorized">
  **Causa**: API Key inv√°lida, expirada ou mal formatada
  
  **Solu√ß√µes**:
  - Verifique se a chave est√° correta
  - Confirme que n√£o expirou
  - Valide o formato do header
  - Teste com nova API Key
</Accordion>

<Accordion title="403 Forbidden">
  **Causa**: API Key v√°lida mas sem permiss√µes necess√°rias
  
  **Solu√ß√µes**:
  - Verifique permiss√µes da chave
  - Use chave com n√≠vel adequado
  - Contate administrador para upgrade
  - Revise escopo da opera√ß√£o
</Accordion>

<Accordion title="429 Too Many Requests">
  **Causa**: Excedeu limite de taxa da API Key
  
  **Solu√ß√µes**:
  - Implemente retry com backoff
  - Distribua requisi√ß√µes no tempo
  - Use m√∫ltiplas chaves se necess√°rio
  - Otimize frequ√™ncia de chamadas
</Accordion>

### Testando Autentica√ß√£o

Verifique se sua API Key est√° funcionando:

<CodeGroup>
```bash Teste R√°pido
curl -X GET "https://api.connectvets.com.br/v1/auth/validate" \
  -H "X-API-KEY: your_api_key" \
  -H "Content-Type: application/json"
```

```javascript Valida√ß√£o
const validateApiKey = async (apiKey) => {
  try {
    const response = await fetch('https://api.connectvets.com.br/v1/auth/validate', {
      headers: {
        'X-API-KEY': apiKey,
        'Content-Type': 'application/json'
      }
    });
    
    if (response.ok) {
      console.log('‚úÖ API Key v√°lida');
      return true;
    } else {
      console.log('‚ùå API Key inv√°lida');
      return false;
    }
  } catch (error) {
    console.log('‚ùå Erro de conectividade');
    return false;
  }
};
```
</CodeGroup>

## Limites e Cotas

### Por Tipo de Chave

| Tipo | Requisi√ß√µes/minuto | Requisi√ß√µes/hora | Notas/m√™s |
|------|-------------------|------------------|-----------|
| **Visualizador** | 60 | 1,000 | - |
| **Editor** | 100 | 2,000 | 500 |
| **Administrador** | 200 | 5,000 | 2,000 |

### Upgrading de Limites

<CardGroup cols={2}>
  <Card title="Contate Vendas" icon="phone" href="https://wa.me/5531888835141">
    Para limites customizados e planos empresariais
  </Card>
  <Card title="Otimize Uso" icon="chart-line" href="/examples/advanced-filtering">
    Aprenda a usar filtros e pagina√ß√£o eficientemente
  </Card>
</CardGroup>

---

<Tip>
**D√∫vidas sobre autentica√ß√£o?** Nosso time est√° dispon√≠vel no [Discord](https://discord.gg/uN4NxUGk) ou [WhatsApp](https://wa.me/5531888835141).
</Tip> 